-- Erstellen der Sequenz f√ºr die ID der Tabelle application_user
CREATE SEQUENCE application_user_id_seq;

-- Erstellen der Tabelle application_user
CREATE TABLE application_user (
                                  id BIGINT NOT NULL DEFAULT nextval('application_user_id_seq'),
                                  username VARCHAR(255) NOT NULL,
                                  password VARCHAR(255) NOT NULL,
                                  CONSTRAINT pk_application_user PRIMARY KEY (id),
                                  CONSTRAINT unq_application_user_id UNIQUE (id)
);

-- Erstellen der Tabelle application_dead
CREATE TABLE application_dead (
                                  user_id BIGINT NOT NULL,
                                  username VARCHAR(255) NOT NULL,
                                  name VARCHAR(255) NOT NULL,
                                  type VARCHAR(255) NOT NULL,
                                  hunger INTEGER NOT NULL DEFAULT 5,
                                  durst INTEGER NOT NULL DEFAULT 5,
                                  energie INTEGER NOT NULL DEFAULT 5,
                                  komfort INTEGER NOT NULL DEFAULT 5,
                                  created_date DATE NOT NULL,
                                  last_fed TIMESTAMP,
                                  last_watered TIMESTAMP,
                                  last_slept TIMESTAMP,
                                  last_petted TIMESTAMP,
                                  last_showered TIMESTAMP,
                                  CONSTRAINT pk_application_dead PRIMARY KEY (user_id, name),
                                  CONSTRAINT unq_application_dead_user_name UNIQUE (user_id, name),
                                  CONSTRAINT fk_application_dead_user FOREIGN KEY (user_id) REFERENCES application_user(id)
);

-- Erstellen der Tabelle application_pet
CREATE TABLE application_pet (
                                 user_id BIGINT NOT NULL,
                                 username VARCHAR(255) NOT NULL,
                                 name VARCHAR(255) NOT NULL,
                                 type VARCHAR(255) NOT NULL,
                                 hunger INTEGER NOT NULL DEFAULT 5,
                                 durst INTEGER NOT NULL DEFAULT 5,
                                 energie INTEGER NOT NULL DEFAULT 5,
                                 komfort INTEGER NOT NULL DEFAULT 5,
                                 created_date DATE NOT NULL,
                                 last_fed TIMESTAMP,
                                 last_watered TIMESTAMP,
                                 last_slept TIMESTAMP,
                                 last_petted TIMESTAMP,
                                 last_showered TIMESTAMP,
                                 CONSTRAINT pk_application_pet PRIMARY KEY (user_id, name),
                                 CONSTRAINT unq_application_pet_user_name UNIQUE (user_id, name),
                                 CONSTRAINT fk_application_pet_user FOREIGN KEY (user_id) REFERENCES application_user(id)
);
